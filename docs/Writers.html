<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Writers  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset="utf-8">
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-102615840-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-102615840-5');
</script>

    <script src="js/lunr.min.js" defer></script>
    <script src="js/typeahead.jquery.js" defer></script>
    <script src="js/jazzy.search.js" defer></script>
  </head>
  <body>

    <a name="//apple_ref/swift/Section/Writers" class="dashAnchor"></a>

    <a title="Writers  Reference"></a>

    <header class="header">
      <p class="header-col header-col--primary">
        <a class="header-link" href="index.html">
          TraceLog 5.0.0 Docs
        </a>
         (100% documented)
      </p>
    
      <p class="header-col--secondary">
        <form role="search" action="search.json">
          <input type="text" placeholder="Search documentation" data-typeahead>
        </form>
      </p>
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="http://github.com/tonystone/tracelog">
            <img class="header-icon" src="img/gh.png"/>
            View on GitHub
          </a>
        </p>
    
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="index.html">TraceLog Reference</a>
      <img class="carat" src="img/carat.png" />
      Writers  Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="User%20Guides.html">User Guides</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="quick-start.html">Quick Start</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="objective-c-support.html">Objective-C Support</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Configuration.html">Configuration</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Configuration.html#/s:8TraceLog9configure4mode7writers11environmentyAA15ConcurrencyModeO_SayAA6Writer_pGAA11EnvironmentCtF">configure(mode:writers:environment:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Configuration.html#/s:8TraceLog9configure7writers11environmentySayAA21WriterConcurrencyModeOG_AA11EnvironmentCtF">configure(writers:environment:)</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Logging.html">Logging</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Logging.html#/s:8TraceLog8logError____7messageySSSg_S2SSiSSyctF">logError(_:_:_:_:message:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Logging.html#/s:8TraceLog10logWarning____7messageySSSg_S2SSiSSyctF">logWarning(_:_:_:_:message:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Logging.html#/s:8TraceLog7logInfo____7messageySSSg_S2SSiSSyctF">logInfo(_:_:_:_:message:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Logging.html#/s:8TraceLog03logA0____7messageySi_S2SSiSSyctF">logTrace(_:_:_:_:message:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Logging.html#/s:8TraceLog03logA0_5level___7messageySSSg_SiS2SSiSSyctF">logTrace(_:level:_:_:_:message:)</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Writers.html">Writers</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/ConsoleWriter.html">ConsoleWriter</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/ConsoleWriter/Default.html">– Default</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/FileWriter.html">FileWriter</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/FileWriter/Default.html">– Default</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/FileWriter/Strategy.html">– Strategy</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Formatters.html">Formatters</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/TextFormat.html">TextFormat</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/TextFormat/Default.html">– Default</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/TextFormat/Option.html">– Option</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/JSONFormat.html">JSONFormat</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/JSONFormat/Default.html">– Default</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/JSONFormat/Attribute.html">– Attribute</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/JSONFormat/Option.html">– Option</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Software%20Developer%20Kit%20%28SDK%29.html">Software Developer Kit (SDK)</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/Writer.html">Writer</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/OutputStreamWriter.html">OutputStreamWriter</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/OutputStreamFormatter.html">OutputStreamFormatter</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Supporting%20Types.html">Supporting Types</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/ConcurrencyMode.html">ConcurrencyMode</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/WriterConcurrencyMode.html">WriterConcurrencyMode</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/AsyncConcurrencyModeOption.html">AsyncConcurrencyModeOption</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/AsyncConcurrencyModeOption/BufferStrategy.html">– BufferStrategy</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/Environment.html">Environment</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/LogLevel.html">LogLevel</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/StaticContext.html">StaticContext</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/RuntimeContext.html">RuntimeContext</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/OutputStreamFormatterError.html">OutputStreamFormatterError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/FailureReason.html">FailureReason</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content top-matter">
            <h1>Writers</h1>
            <p>Writers are used to write the log output to various endpoints.</p>

<p>Writers are installed using the TraceLog.<code><a href="Configuration.html#/s:8TraceLog9configure7writers11environmentySayAA21WriterConcurrencyModeOG_AA11EnvironmentCtF">configure(writers:environment:)</a></code> and TraceLog.<code><a href="Configuration.html#/s:8TraceLog9configure4mode7writers11environmentyAA15ConcurrencyModeO_SayAA6Writer_pGAA11EnvironmentCtF">configure(mode:writers:environment:)</a></code> functions.</p>

<blockquote>
<p>Note: Writers are not meant to be used directly other than creating one.  You create a writer and pass it to TraceLog through the configure function.  Once that is done, TraceLog will call the writer for you.</p>
</blockquote>

          </div>
        </section>

        <section class="section">
          <div class="section-content">
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:8TraceLog13ConsoleWriterC"></a>
                    <a name="//apple_ref/swift/Class/ConsoleWriter" class="dashAnchor"></a>
                    <a class="token" href="#/s:8TraceLog13ConsoleWriterC">ConsoleWriter</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>ConsoleWriter is the default <code><a href="Protocols/Writer.html">Writer</a></code> in <strong>TraceLog</strong> and writes to stdout.</p>

<p>This writer will be installed for you if you do not set any other writer&rsquo;s
at configuration time.  Its a basic writer that can be used at any time that
you want the output to go to the stdout.</p>

<p>Creating a ConsoleWriter is simple using the built in defaults.</p>
<pre class="highlight swift"><code>    <span class="k">let</span> <span class="nv">writer</span> <span class="o">=</span> <span class="kt">ConsoleWriter</span><span class="p">()</span>

    <span class="kt">TraceLog</span><span class="o">.</span><span class="nf">configure</span><span class="p">(</span><span class="nv">writers</span><span class="p">:</span> <span class="p">[</span><span class="n">writer</span><span class="p">])</span>
</code></pre>
<h3 id='output-format' class='heading'>Output Format</h3>

<p>Since ConsoleWriter is an instance of <code><a href="Protocols/OutputStreamWriter.html">OutputStreamWriter</a></code> it allows you to specify
the format of the output with any instance of OutputStreamFormatter.  The default
format is <code><a href="Structs/TextFormat.html">TextFormat</a></code> with the default TextFormat options.  You can easily change
the format by overriding the default on creation.</p>
<pre class="highlight swift"><code>    <span class="k">let</span> <span class="nv">writer</span> <span class="o">=</span> <span class="kt">ConsoleWriter</span><span class="p">(</span><span class="nv">format</span><span class="p">:</span> <span class="kt">JSONFormat</span><span class="p">())</span>

    <span class="kt">TraceLog</span><span class="o">.</span><span class="nf">configure</span><span class="p">(</span><span class="nv">writers</span><span class="p">:</span> <span class="p">[</span><span class="n">writer</span><span class="p">])</span>
</code></pre>

                        <a href="Classes/ConsoleWriter.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">class</span> <span class="kt">ConsoleWriter</span> <span class="p">:</span> <span class="kt"><a href="Protocols/OutputStreamWriter.html">OutputStreamWriter</a></span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:8TraceLog10FileWriterC"></a>
                    <a name="//apple_ref/swift/Class/FileWriter" class="dashAnchor"></a>
                    <a class="token" href="#/s:8TraceLog10FileWriterC">FileWriter</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The <code>FileWriter</code> is a fully configurable TraceLog <code><a href="Protocols/OutputStreamWriter.html">OutputStreamWriter</a></code> implementation
that writes it&rsquo;s formatted data to files on persistent storage.</p>

<p>FileWriter allows file handling strategies to to be configured that determine how
the files are named and handled on the storage device.</p>

<p>Creating a FileWriter is simple using the built in defaults.</p>
<pre class="highlight swift"><code>    <span class="k">let</span> <span class="nv">fileWriter</span> <span class="o">=</span> <span class="k">try</span> <span class="kt">FileWriter</span><span class="p">(</span><span class="nv">directory</span><span class="p">:</span> <span class="kt">URL</span><span class="p">(</span><span class="nv">fileURLWithPath</span><span class="p">:</span> <span class="s">"./"</span><span class="p">))</span>

    <span class="kt">TraceLog</span><span class="o">.</span><span class="nf">configure</span><span class="p">(</span><span class="nv">writers</span><span class="p">:</span> <span class="p">[</span><span class="n">fileWriter</span><span class="p">])</span>
</code></pre>
<h3 id='file-strategies' class='heading'>File Strategies</h3>

<p>FileWriter allows various file management strategies to be configured and
used for management of the files on the storage device.  The default strategy
is the <code>.fixed</code> strategy which will create a fixed file that is continually
appended to and never rotated.  If you require a file rotation strategy
the <code>.rotate(at:)</code> strategy will allow you to set various rotation criteria
for the files created.</p>

<p>To rotate the file every time the the FIleWriter is started, you can pass the
<code>.startup</code> option to the rotate strategy as in this example.</p>
<pre class="highlight swift"><code>    <span class="k">let</span> <span class="nv">fileWriter</span> <span class="o">=</span> <span class="k">try</span> <span class="kt">FileWriter</span><span class="p">(</span><span class="nv">directory</span><span class="p">:</span> <span class="kt">URL</span><span class="p">(</span><span class="nv">fileURLWithPath</span><span class="p">:</span> <span class="s">"./"</span><span class="p">),</span> <span class="nv">strategy</span><span class="p">:</span> <span class="o">.</span><span class="nf">rotate</span><span class="p">(</span><span class="nv">at</span><span class="p">:</span> <span class="p">[</span><span class="o">.</span><span class="n">startup</span><span class="p">]))</span>

    <span class="kt">TraceLog</span><span class="o">.</span><span class="nf">configure</span><span class="p">(</span><span class="nv">writers</span><span class="p">:</span> <span class="p">[</span><span class="n">fileWriter</span><span class="p">])</span>
</code></pre>

<p>The <code>.rotate</code> strategy allows for changing the naming <code>template</code> of the file
written to the storage device. If you change the default naming you must consider
the frequency that your files may rotate so that naming conflicts do not occur.
The default template is suitable for almost all strategies that may be used
since it names files based on date with millisecond precision.</p>
<h3 id='output-format' class='heading'>Output Format</h3>

<p>Since FileWriter is an instance of <code><a href="Protocols/OutputStreamWriter.html">OutputStreamWriter</a></code> it allows you to specify
the format of the output with any instance of OutputStreamFormatter.  The default
format is <code><a href="Structs/TextFormat.html">TextFormat</a></code> with the default TextFormat options.  You can easily change
the format by overriding the default on creation.</p>
<pre class="highlight swift"><code>    <span class="k">let</span> <span class="nv">fileWriter</span> <span class="o">=</span> <span class="k">try</span> <span class="kt">FileWriter</span><span class="p">(</span><span class="nv">directory</span><span class="p">:</span> <span class="kt">URL</span><span class="p">(</span><span class="nv">fileURLWithPath</span><span class="p">:</span> <span class="s">"./"</span><span class="p">),</span> <span class="nv">format</span><span class="p">:</span> <span class="kt">JSONFormat</span><span class="p">())</span>

    <span class="kt">TraceLog</span><span class="o">.</span><span class="nf">configure</span><span class="p">(</span><span class="nv">writers</span><span class="p">:</span> <span class="p">[</span><span class="n">fileWriter</span><span class="p">])</span>
</code></pre>
<div class="aside aside-see-also">
    <p class="aside-title">See also</p>
    <code><a href="Classes/FileWriter/Strategy.html">FileWriter.Strategy</a></code> for complete details of all strategies that can be used.

</div>

                        <a href="Classes/FileWriter.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@available</span><span class="p">(</span><span class="n">iOSApplicationExtension</span><span class="p">,</span> <span class="n">unavailable</span><span class="p">,</span> <span class="nv">message</span><span class="p">:</span> <span class="s">"FileWriter can not be initialized in an Extension.  Please initialize it in the main App."</span><span class="p">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="kt">FileWriter</span> <span class="p">:</span> <span class="kt"><a href="Protocols/OutputStreamWriter.html">OutputStreamWriter</a></span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </section>

      </article>
    </div>
    <section class="footer">
      <p>© 2019 <a class="link" href="https://github.com/tonystone" target="_blank" rel="external">Tony Stone</a> under the <a class="link" href="http://www.apache.org/licenses/LICENSE-2.0.html" target="_blank" rel="external">Apache License, Version 2.0</a>.</p>
      <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.13.0</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
    </section>
  </body>
</div>
</html>
